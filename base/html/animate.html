<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../css/reset.css">
    <title>animate</title>
    <style>
      body {
        display: flex;
      }

      li {
        width: 100%;
        height: 50px;
        line-height: 50px;
        text-align: center;
      }

      li:nth-child(odd) {
        background-color: skyblue;
      }

      li:nth-child(even) {
        background-color: aquamarine;
      }

      ul {
        width: 33%;
        height: 100vh;
        list-style: none;
        overflow: auto;
      }

      .downUp {
        animation: downUp 1s;
      }

      .leftRight {
        animation: leftRight 1s;
      }

      @keyframes downUp {
        0% {
          opacity: 0;
          transform: translateY(1000px) scale(0);
        }

      }

      @keyframes leftRight {
        from {
          opacity: 0;
          transform: translateX(-1000px) scale(0)
        }
      }

    </style>
  </head>

  <body>
    <ul id='down2up'>
      <li>从下到上滑入</li>
    </ul>

    <ul id="left2right">
      <li>从左到右滑入</li>
    </ul>

    <script>

      function animate(domId, animateName, time = 2000) {
        const ul = document.querySelector(`#${domId}`)
        const timer = setInterval(() => {
          const lis = ul.querySelectorAll('li').length
          const li = document.createElement('li')
          li.classList.add(animateName)
          li.innerText = lis
          ul.appendChild(li)
          if (lis > 17) {
            clearInterval(timer)
            clearLi(ul)
            animate(domId, animateName, time)
          }
        }, time);
      }

      function clearLi(ul) {
        const lis = [...ul.querySelectorAll('li')].filter((item, index) => index > 0)
        lis.forEach(item => ul.removeChild(item))
      }
      animate('down2up', 'downUp')
      animate('left2right', 'leftRight')


      setInterval(() => {
        console.log('我在执行')
      }, 1000);

    </script>


  </body>

</html>
