<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
  </head>

  <body>
    <script>
      function create() {
        // 创建一个空的对象
        let obj = new Object()
        // 获得构造函数
        console.log(arguments)
        let Con = [].shift.call(arguments)
        console.log('==>'.Con)
        // 链接到原型
        obj.__proto__ = Con.prototype
        // 绑定 this，执行构造函数
        let result = Con.apply(obj, arguments)
        // 确保 new 出来的是个对象
        return typeof result === 'object' ? result : obj
      }

      function create2(Con, ...args) {
        let obj = {}
        Object.setPrototypeOf(obj, Con.prototype)
        let result = Con.apply(obj, args)
        return result instanceof Object ? result : obj
      }

      let a = function (){

      }

    console.log(create(a)) 

    // var animal = function () { };
    // var dog = function () { };

    // animal.price = 2000;
    // console.log(animal.prototype, dog.prototype)
    // dog.prototype = animal;
    // console.log(dog.prototype.prototype)
    // var tidy = new dog();


    // console.log(dog.price) //undefined
    // console.log(tidy.price, tidy) // 2000
    </script>
  </body>

</html>
